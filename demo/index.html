<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Directive Engine Demo</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header class="page-header">
      <div>
        <h1>Directive Engine Demo</h1>
        <p class="subtitle">Minimal shell for browser-based runs</p>
      </div>
      <div class="header-actions">
        <label class="dataset-select" for="dataset-select">
          <span>Dataset</span>
          <select id="dataset-select">
            <option value="toy" selected>Toy</option>
            <option value="museum">Museum</option>
          </select>
        </label>
        <button class="run-button" type="button">Run</button>
      </div>
    </header>

    <div class="error-banner" id="error-banner" role="alert" hidden></div>

    <main class="page-content">
      <section class="panel" aria-labelledby="parts-title">
        <h2 id="parts-title">Part List</h2>
        <div class="panel-body" id="part-list">
          <p class="placeholder">Parts will appear here.</p>
        </div>
      </section>

      <section class="panel" aria-labelledby="status-title">
        <div class="panel-header">
          <h2 id="status-title">Status</h2>
          <span class="badge" id="status-badge">Idle</span>
        </div>
        <div class="panel-body" id="status-details">
          <p class="placeholder">Status details will appear here.</p>
        </div>
      </section>

      <section class="panel" aria-labelledby="actions-title">
        <h2 id="actions-title">Selected Part Actions</h2>
        <div class="panel-body" id="action-list">
          <p class="placeholder">Actions will appear here.</p>
        </div>
      </section>

      <section class="panel" aria-labelledby="verification-title">
        <h2 id="verification-title">Expected Residual</h2>
        <div class="panel-body" id="verification-residual">
          <p class="placeholder">Expected residual output will appear here.</p>
        </div>
      </section>

      <section class="panel" aria-labelledby="constraints-title">
        <h2 id="constraints-title">Constraints / DOF</h2>
        <div class="panel-body" id="constraints-panel">
          <p class="placeholder">Constraints will appear here.</p>
        </div>
      </section>

      <section class="panel" id="alignment-panel" aria-labelledby="alignment-title" hidden>
        <h2 id="alignment-title">Alignment Quality</h2>
        <div class="panel-body alignment-quality">
          <div class="alignment-summary">
            <div class="alignment-rms">
              <span class="alignment-label">RMS (mm)</span>
              <strong class="alignment-rms-value" id="alignment-rms">â€”</strong>
            </div>
          </div>
          <div class="alignment-table-wrapper">
            <table class="alignment-table">
              <thead>
                <tr>
                  <th>Anchor</th>
                  <th class="numeric">Residual (mm)</th>
                  <th class="numeric">dx (mm)</th>
                  <th class="numeric">dy (mm)</th>
                  <th class="numeric">dz (mm)</th>
                </tr>
              </thead>
              <tbody id="alignment-residuals">
                <tr>
                  <td class="placeholder-cell" colspan="5">Residuals will appear here.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="panel" aria-labelledby="raw-json-title">
        <h2 id="raw-json-title">Raw JSON</h2>
        <div class="panel-body">
          <details class="raw-json">
            <summary>Toggle raw payloads</summary>
            <pre id="raw-json"></pre>
          </details>
        </div>
      </section>
    </main>

    <script type="module" src="./main.ts"></script>
  </body>
</html>
